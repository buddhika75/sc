<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="image" type="java.lang.Boolean" />
        
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <!-- Hero Section Begin -->
        <section class="hero #{cc.attrs.image?'':'hero-normal'}">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="hero__categories">
                            <div class="hero__categories__all">
                                <i class="fa fa-bars"></i>
                                <span>All departments</span>
                            </div>
                            <h:form >
                                <ul>
                                    <ui:repeat value="#{itemController.findChildrenItemsByParentCode('departments')}" var="c" >
                                        <li>
                                            <h:commandLink  action="#{productController.searchByDepartment()}" >
                                                #{c.name}
                                                <f:setPropertyActionListener target="#{productController.department}" value="#{c}" ></f:setPropertyActionListener>
                                            </h:commandLink>
                                        </li>
                                    </ui:repeat>
                                </ul>
                            </h:form>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div class="hero__search">
                            <div class="hero__search__form">
                                <h:form >
                                    <div class="hero__search__categories">
                                        Search
                                        <span class="arrow_carrot-down"></span>
                                    </div>
                                    <h:inputText value="#{productController.searchingName}" a:placeholder="What do you need?"/>
                                    <button type="submit" class="site-btn" jsf:action="#{productController.searchByNamePublic()}">SEARCH</button>
                                </h:form>
                            </div>
                            <div class="hero__search__phone">
                                <div class="hero__search__phone__icon">
                                    <i class="fa fa-phone"></i>
                                </div>
                                <div class="hero__search__phone__text">
                                    <h5>#{itemController.findItemNameByCode('site_phone')}</h5>
                                    <span>support 24/7 time</span>
                                </div>
                            </div>
                        </div>
                        <h:panelGroup rendered="#{cc.attrs.image}" >
                            <div class="hero__item" style="position:relative;" >
                                <p:graphicImage style="position: absolute; z-index: -1; left: 0px;top:0px;padding: 0px;margin: 0px;"
                                                cache="false"  value="#{streamedContentController.imageByCodeInlineWithoutGet('home_image')}"  >
                                </p:graphicImage>
                                <div class="hero__text">
                                    <span>#{itemController.findItemNameByCode('index_topic')}</span>
                                    <h2>#{itemController.findItemNameByCode('index_text_1')} <br />#{itemController.findItemNameByCode('index_text_2')}</h2>
                                    <p>#{itemController.findItemNameByCode('index_text_3')}</p>
                                    <a href="#" class="primary-btn">SHOP NOW</a>
                                </div>
                            </div>
                        </h:panelGroup>
                    </div>
                </div>
            </div>
        </section>
        <!-- Hero Section End -->


    </cc:implementation>
</html>